<div align='center'>

<img src='../../../images/boj.jpg' width='600'/>

</div>

<br>

> 이 게시글은 백준 [20055](https://www.acmicpc.net/problem/20055번 **컨베이어 벨트 위의 로봇**) 문제를 풀이합니다. 언어는 *Javascript*입니다.

<br>

# 문제

<div align="center">

<img src="./images/다운로드.png">

</div>

<br>

길이가 N인 컨베이어 벨트가 있고, 길이가 2N인 벨트가 이 컨베이어 벨트를 위아래로 감싸며 돌고 있다. 벨트는 길이 1 간격으로 2N개의 칸으로 나뉘어져 있으며, 각 칸에는 아래 그림과 같이 1부터 2N까지의 번호가 매겨져 있다.

<div align="center">

<img src="./images/다운로드%20(1).png">

</div>

<br>

벨트가 한 칸 회전하면 1번부터 2N-1번까지의 칸은 다음 번호의 칸이 있는 위치로 이동하고, 2N번 칸은 1번 칸의 위치로 이동한다. i번 칸의 내구도는 Ai이다. 위의 그림에서 1번 칸이 있는 위치를 "**올리는 위치**", N번 칸이 있는 위치를 "**내리는 위치**"라고 한다.

컨베이어 벨트에 박스 모양 로봇을 하나씩 올리려고 한다. 로봇은 올리는 위치에만 올릴 수 있다. 언제든지 로봇이 내리는 위치에 도달하면 그 즉시 내린다. 로봇은 컨베이어 벨트 위에서 스스로 이동할 수 있다. 로봇을 올리는 위치에 올리거나 로봇이 어떤 칸으로 이동하면 그 칸의 내구도는 즉시 1만큼 감소한다.

컨베이어 벨트를 이용해 로봇들을 건너편으로 옮기려고 한다. 로봇을 옮기는 과정에서는 아래와 같은 일이 순서대로 일어난다.

1. 벨트가 각 칸 위에 있는 로봇과 함께 한 칸 회전한다.
2. 가장 먼저 벨트에 올라간 로봇부터, 벨트가 회전하는 방향으로 한 칸 이동할 수 있다면 이동한다. 만약 이동할 수 없다면 가만히 있는다.
   1. 로봇이 이동하기 위해서는 이동하려는 칸에 로봇이 없으며, 그 칸의 내구도가 1 이상 남아 있어야 한다.
3. 올리는 위치에 있는 칸의 내구도가 0이 아니면 올리는 위치에 로봇을 올린다.
4. 내구도가 0인 칸의 개수가 K개 이상이라면 과정을 종료한다. 그렇지 않다면 1번으로 돌아간다.

종료되었을 때 몇 번째 단계가 진행 중이었는지 구해보자. 가장 처음 수행되는 단계는 1번째 단계이다.

<br>

# 입력
> 첫째 줄에 N, K가 주어진다. 둘째 줄에는 A<sub>1</sub>, A<sub>2</sub>, ..., A<sub>2N</sub>이 주어진다.

## 예제 입력 1

```
3 2
1 2 1 2 1 2
```

## 예제 입력 2

```
3 6
10 10 10 10 10 10
```

## 예제 입력 3

```
4 5
10 1 10 6 3 4 8 2
```

## 예제 입력 4

```
5 8
100 99 60 80 30 20 10 89 99 100
```

<br>

# 출력
> 몇 번째 단계가 진행 중일때 종료되었는지 출력한다.

## 예제 출력 1

```
2
```

## 예제 출력 2

```
31
```

## 예제 출력 3

```
24
```

## 예제 출력 4

```
472
```

<br>

# 제한
- 2 ≤ N ≤ 100
- 1 ≤ K ≤ 2N
- 1 ≤ A<sub>i</sub> ≤ 1,000

<br>

# 풀이
## 접근
문제를 이해하는데 한참 걸렸습니다... 우선 주어진 조건을 흐름대로 파악해야 합니다. 전제 되어야 하는 것은 아래와 같아요.

1. 회전이 되면 `올리는 위치`에 로봇을 올리고 내구도를 감소하고, `내리는 위치`는 로봇을 제거하고 `올리는 위치`로 온다.
2. `올리는 위치`에 내구도가 없다면 로봇을 올리지 않는다.
3. 로봇은 다음 벨트에 내구도가 존재하고, 로봇이 없어야만 자체적으로 움직일 수 있다. 움직인 경우 해당 벨트의 내구도를 감소시킨다.
4. 반복하고, 주어진 K보다 남은 벨트의 내구도가 0인 갯수가 클 경우 종료한다.

끝날 때까지 반복이므로 특정 조건에서만 종료시키게 코드를 작성합니다. 그리고 분리시켜야 할 로직을 생각했을 때, 기능으로 묶어보면

- 컨베이어 벨트가 회전하는 함수
- 로봇이 움직이는 함수

이렇게 두 개가 되겠네요. 그 후, 반복마다 회전 횟수를 증가시키고 위에 선언한 함수를 호출한 뒤, 유효성 검사를 하는 형태로 진행했습니다.

* 추가

더 나아보이는 코드가 있어서, 이 코드를 보고 구현부를 다시 연구해봐야 할 것 같습니다.

또한 문제 이해해 너무 오랜 시간이 소요되었으므로 다시 한 번 풀어봐야 할 것 같아요.

<br>

# 알고리즘(의사 코드)
> [의사 코드 바로 읽기](./20055.txt)

<br>

# 구현
> [구현 코드 바로 읽기](./20055.js)

> [다른 풀이 바로 읽기](./answers.js)

<br>

# 참고
## 구조
- 20055.txt : 의사 코드
- 20055.js : 구현 코드
- stdin : 테스트 케이스
- answers.js : 다른 풀이, 한 번 더 이해하기

<br>